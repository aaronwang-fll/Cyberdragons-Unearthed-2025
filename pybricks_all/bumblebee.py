# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_setup_imported_function","id":"_vX?kq,cVcz$5~X*snGC","fields":{"FROM_MODULE":{"id":"T_szxC!z|Fex^pN)#m!0"},"VAR":{"id":"Gn5J`?pf1iIV$y3?+=82"}},"next":{"block":{"type":"variables_set_prime_hub","id":"8gN]/_|)*nMRJCbMZ/zy","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"k_G8rP46rdCDxapGW~ht","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"pmaxBV@W/Jw9tGX.(zdR","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"+zq;@VFXOCw=FSz|^4.o","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"d`ua0,`-~$f*gx49*pkZ","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"54SB`O(]rlUKsQ13V(y3","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"O5hUp4+K7^PFh[mu4;fw","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"f|mUG)`0a.hO]$+9$6x_","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"ia)^L-AR+;6zSg;L3O=^","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"MHDPmFF`syEp0UQ?DvYK","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"EnuqsnuK[GC5Z7D,qJ*X","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"-8Xo}xM4DQ/Zt54Y1Y@f","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"8Vs8aR9Rwa~Ee`eDaOm]","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"$lr48`e{q?+9II*X5jXh","fields":{"VALUE0":110}}}},"next":{"block":{"type":"variables_set_motor","id":"3)h?H[}z!2r?WHnX@p75","fields":{"VAR":{"id":"7V2q8$R!~B64,Z)2G+j^"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"axZHrFKOF|2iya[${W7.","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":",ztiGb{5;Q,eV2=Ux.:V","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"h{|)+UYa3[2k*lyk@g@[","fields":{"VAR":{"id":"r!BgU^!j}2gq~G^J:b/)"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"oGD7tj11(+p{98K/Hnpc","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"@j~E=A91HeX@0V*P.xPL","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"%];4^Z9I;wQb}-Qg|EmP","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"S)oO5*T]LlYU*hTk8(4|"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"fq+!LY4_.%?}%:deFBRy","fields":{"NAME":"A"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"*ciilo53Op0}oD))cbFi","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"l63yLj-9I]f#rDpLy9H3"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"zS(S8Xed7wg)yYE^sZ]#","fields":{"NAME":"B"}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":692,"deletable":false,"next":{"block":{"type":"blockFunctionCallerStatement","id":"77]/cMcCaaw!CUfzSlK!","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Yc!6CtgD;GRuZRR@W_T?"}}}}},{"type":"variables_setup_function","id":"`5Js,xoJ~$ucv^#QLD{g","x":0,"y":525,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"$@D5K4W6]+hklNJWddx%"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"RHZ_F=JJQ{ked[iBYxfs","fields":{"VAR":{"id":"7V^ngYMZ@uwnFPjwIMR2","name":"angle","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockImportTaskCallStatement","id":"q6R.7a#k}yKTBoWtbPK(","extraState":{"optionLevel":5},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"^b_Kh,@zMOv87O49bt2z","fields":{"VAR":{"id":"Gn5J`?pf1iIV$y3?+=82","name":"p_turn_incremental_async","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"^VQ2pu=3hH/Oi]qlLkNU","fields":{"NUM":0}},"block":{"type":"variables_setup_function_argumentConstant","id":":fNeo=s%ac({UcTZl6J$","fields":{"VAR":{"text":"angle"}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"DmkYd#HptXTR{;(vjn5j","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"{z84c5-XkVip%|jdUchx","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"=Z91Y9ncZ!0x*8D(peGa","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"VGoDO/k:M?/R+OL50y7N","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"y@psT_-Bu`e1)vL|!kah","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":",Sh57hq-vO~LjOOC1c$6","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU"}}}},"ARG4":{"shadow":{"type":"blockMathNumber","id":"Z,Q/7yyXKO5t/D?DpA]G","fields":{"NUM":23}}}}}}}},{"type":"blockDriveBaseDrive2","id":"i:xi4^~3zdH~|3n(un{h","x":717,"y":868,"enabled":false,"extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"HL`#jmDH0VRKB@-JB02h","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":")|8[z1vc/xRVi6Ux8bGx","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"h5-g}Va;r{P:Sn9Bae%Z","fields":{"VALUE":"Stop.HOLD"}}}}},{"type":"variables_setup_function","id":"fx1daY:[}n_;P}j!A(Rm","x":-1,"y":847,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Yc!6CtgD;GRuZRR@W_T?"}},"inputs":{"STACK":{"block":{"type":"blockImuResetHeading","id":"h2#X+P9=4DQ_/%Y/;B+J","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"i_K@gWKF;MSVbY3C7,]L","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":")0_NDh%6%4bXXgfoPLfg","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"=uU5[mf!B_c^s3}eywJr","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"vJgTV3TfX7+!P+H[2HOk","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"S6ljq+_7#2,:{xN*Xg,V","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":":zj`4)2yB/Y%4Odna?8+","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":")iG[[lCBhoF!mhMGx;vR","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"=stm3q:}muh[vPX9Kp1_","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"=Ea]st1:8Go{F4YW_Ugy","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"wM!aNyL_Z{L4=p+S961{","fields":{"VALUE0":750}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"0:Pu4a-$a{M6[7a#)*JG","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"v;sg+n^Q4g06Al3hoZL(","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"_qeN!JW|aiXS1s)Td68E","fields":{"VALUE0":675}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"y6R/rYkpNqhX]6ZH?}U6","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"[R6[C:Pr%x}_B@dvb$H[","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"$@D5K4W6]+hklNJWddx%"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"tQ5V(;CdV1JYS@|?bK1*","fields":{"NUM":45}}}},"next":{"block":{"type":"blockFlowWhile","id":"u.EujD*_#iUYO0{d_[W2","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"-a{.h{WnVt$(btBd_9{`"},"block":{"type":"blockLogicCompare","id":"F^t30.S-T1XOqb8`{]!Z","fields":{"OP1":"LT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"6]+hh_Ay3)TZioK7ZL$?","fields":{"NUM":3}},"block":{"type":"blockLightReflection","id":"dXrG)uSz#pb)M[eFk24q","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"d$r/=B1li#VOOFg|:~,9","fields":{"VAR":{"id":"l63yLj-9I]f#rDpLy9H3","name":"left light","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"I5!BFb]1!^T9XdcV*N4l","fields":{"NUM":20}}}}}},"DO":{"block":{"type":"blockDriveBaseDrive2","id":"_z#EUAo-giZ)6+HqCw_{","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_DRIVE_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"}V0-Oi0~FHo-~8SA2A%R","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"0PpEZ1~;6`E9JNgLv4_c","fields":{"VALUE0":100}}},"ARG1":{"shadow":{"type":"unit_angularVelocity","id":"xu{[/E!;%q;`IcHmU/[B","fields":{"VALUE0":0}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"r]6U20#$i92+]46Opy`p","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"|*asH2d,Hy2n=Ah?vuBu","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"L4cU21N}~^;08,;PtDtU","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"LOuKn^.WMs;k=24otY6=","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"hV*%VJO/J4;^vCM1qY;#","fields":{"VAR":{"id":"7V2q8$R!~B64,Z)2G+j^","name":"left attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"NnGg$qChLN5gozId|#|%","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"|Y{poRB_x9;i(@Z{KZ`A","fields":{"VALUE0":100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"A7^g/MASiH1?=_K$jn0y","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":":OBBd3n$Jfh5rw(F@~gZ","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"jZ[M*rxA.zMqhR3Uf7UI","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"Vvd_d2YN]r[V;nr2eOaE","fields":{"VALUE0":50}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"k8`7k.kd89Zb3GPC-$-%","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Z_hfV*Y.4V6]0CEZ10a4","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"h*klXS$v[g.e8k:Qspj{","fields":{"VALUE0":57}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"_?%@QT:2.,axtq[@gOd`","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"[t%;F@#_umAf(5W!.4Pm","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"%#i8}Et%1J-UF9N|oY:P","fields":{"VAR":{"id":"r!BgU^!j}2gq~G^J:b/)","name":"right attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"69k[F3nD0e0/O[@GN;#z","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"/@WnL$$xb%BPA^)fhqM-","fields":{"VALUE0":190}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"pq@,$pdkNyJ8B:Akzy/+","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"#^dBaUm7O{gt_#;vg~z)","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"y5,b_U[C=[Q}5FI^(#OJ","fields":{"VALUE0":250}}}},"next":{"block":{"type":"blockMotorRun","id":"TDqY*V$y|vOUHhw=6~M:","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"hYp$UX{mtO,hfu`nAG~l","fields":{"VAR":{"id":"r!BgU^!j}2gq~G^J:b/)","name":"right attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"j-{N0b=::}OOUo$:@^)3","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"`4.B~q72D+BI!H=o~,29","fields":{"VALUE0":-190}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"/0/aY.AK-P.;)WN}_EXE","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"2,Lobk;@J~PPa{S0U[ZF","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Z2NTr1K-$#`dV0jE+Y;z","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"xh~GEvh1!$r$t6?9V}{,","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":",hB`y/T-{U@pW^$~An4W","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Hy2qb:KiA-xj[O=kdzs)","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"]pkO.BV7ZP-2Cp1gE)Ux","fields":{"VALUE0":-167}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"/6`+~B!Rb^=yX$%%XaNR","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"NSUE:47bg}aX,e%otV.A","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"q7/c/G]JYh)IeYV5?FSU","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"+GHzp2h;lElxVXW}#gC3","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockMultiTask","id":"%;~a}p6fy/C]^#Ix$y+7","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"lytV24+zrdR|l1hzQ$kl","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"@O%nu|e3OI#BrE9$fGQY","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3","name":"left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"x[F+IKimo:jY.TxB5EP8","fields":{"VALUE0":50}}}},"next":{"block":{"type":"blockWaitUntil","id":"k%/_cwNeBQY=1,ZRq/o*","inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"ABVRZ/C:iW~nlxp4$b,G"},"block":{"type":"blockLogicCompare","id":";}~.MK:MKRl*/^w%OjU6","fields":{"OP1":"GTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"SHx6J[0w.hGw(8H*emr8","fields":{"NUM":3}},"block":{"type":"blockImuGetHeading","id":"N*)rx.}rf2DV@)bJ||n8","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"_;L$GGq5LH6b^La|CxL/","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU","name":"prime hub","type":"PrimeHub"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"Xe-qGYCwga()-*,GLe7n","fields":{"NUM":135}}}}}}},"next":{"block":{"type":"blockMotorStop","id":"V=:2fy~-MXz)t8KN4pnM","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"Y#mko~6-1-2]LKzDeDvd","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3","name":"left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"My^qo0Hcmqk[9JxRO78O","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"Y[5~eQd5(xCq]RRewG_G","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"fXsY11Ga,(Z*!+w,$@uS","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"dUS^#!8ZoSQ3g/J)v~5z","fields":{"VALUE0":-110}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"~9F.q$yYs`qX.J6B{C%`","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"a8RvMA_clYB|}4^tAIG9","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":".I7qVD`aXHhKN.J01a#i","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"76(S[8}!k2Xw}%Mz=w@H","fields":{"VALUE0":75}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"yC~K$x$|Rk:.B.gnMsLV","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":".z|?}o}a5][4O5$4i_AJ","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"p(,){=}mHXyL5,:GMxnU","fields":{"VAR":{"id":"7V2q8$R!~B64,Z)2G+j^","name":"left attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"H3FpI+!Qu(R_-[j~aC%m","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"X%:[dJ@RNzv|8q`3n[Bf","fields":{"VALUE0":-100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"j)xA46J.c5VY{~qOW[mU","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockPrint","id":"v,s!)W5]R@b6Em)S*~Iv","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"Uje@*06^FX]s)M8Q*QJd","fields":{"TEXT":"abc"}},"block":{"type":"blockImuGetHeading","id":"zR,$VZm)~Lk@y95Ym8D[","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":".eHJpN/y`)|v?osHRZ1i","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"?}yizcCTL/6dXXHML7~$","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"$@D5K4W6]+hklNJWddx%"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":",F6eSOrCR$5h+BHzDW]V","fields":{"NUM":60}}}},"next":{"block":{"type":"blockPrint","id":"#{Q@f%bK+)`0YkrP6Eb(","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{kmJ(jK-Qy0jGlt!votp","fields":{"TEXT":"abc"}},"block":{"type":"blockImuGetHeading","id":"CU-]7{~gKiHz?{j856T~","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"2ZJm-9r3Tf}cxY?j@kSO","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"U]0T,o:U;H!:l/|8OVFJ","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"vbQeh3$T.%f.;U.|wgyy","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"T^TI1+s|h^20}?Uiurc=","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"aNh@#j_?*Ld_w;]n$9lV","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"P3I.Qa_e[J*WLk]_rIc/","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"jfsC0KjvsrK^KZsX~0s/","fields":{"VALUE0":-385}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"vyPbvt`QyFFp.-9p54#E","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":":bb:?,?Ohwf0#/un5cbg","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"$@D5K4W6]+hklNJWddx%"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"o(6Z+o4EH(C5d$BHMHYs","fields":{"NUM":30}}}},"next":{"block":{"type":"blockMotorDuty","id":"6EM9Wf=Fx?*8tJe8,h]s","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"zu8e@mURNH4MZhtAh?fm","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3","name":"left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"%F-JUDWMPIE.Wr3)8E}q","fields":{"VALUE0":67}}}},"next":{"block":{"type":"blockMotorDuty","id":"n.0,nVAGzCuM9tGYryf^","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"nt3(o|vubQJD2$8@.YJf","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"h@eX^ZE0.{j6?7uG?B0d","fields":{"VALUE0":67}}}},"next":{"block":{"type":"blockWaitTime","id":"VZrN;,j4p)FJSp{--2%~","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"pZ!;8K~-ZIdEmO29F-a$","fields":{"VALUE0":670}}}},"next":{"block":{"type":"blockMotorStop","id":"?P;,QI.Q)O?[lStQeTvy","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"w.HGe|kRK}MhO03}x+|*","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3","name":"left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"kXdJ3Wit:$fW(BMyH=yS","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorStop","id":"U8cX7y]7$v1958CZjZj]","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"l_2N_D8kZYSLtRu2+2WN","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"yduiJ`PR1H4]h@mlWFBY","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"cxetn8RDMx,2|X`/R#DI","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"pcDkkBebzIG]z|2$Cs/3","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"ntheE6%|Xp+Jl;Pdpmlf","fields":{"VALUE0":-100}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"+0b%.0HAB_wnjWWk68V%","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockImportTaskCallStatement","id":"-tDBEQ)(;c!SNY5+mCeL","extraState":{"optionLevel":5},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":".vye]!o}S}%pjGl?([N#","fields":{"VAR":{"id":"Gn5J`?pf1iIV$y3?+=82","name":"p_turn_incremental_async","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"Mw,0LHqEOs2aN)pTVsIZ","fields":{"NUM":-20}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"TN5d/OMpG_}7Ma;*T0N[","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"3AIMkD8hwGX6oemEI9K|","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"VY$tt1Ww)x+T~[$PS0X)","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"srm+;n%Q.OTkX1@g${A@","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"BoI^|984NsQFr=^qSBK/","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"clD%S5dkmo3#bsJ{+c0l","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU"}}}},"ARG4":{"shadow":{"type":"blockMathNumber","id":"omzjHC]l7NK8P.WrgM[6","fields":{"NUM":26}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"$Zvx/}~Ci,AO`%xBf8,`","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"XPiymOW]Qb0*%/:MI@.Z","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"xpmcY_{tmRW|l4g$w_cz","fields":{"VALUE0":800}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"k^jLZhj$3N!RC^eb74;|","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@T^4*0,t/=w)[RB=))LT","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"KPtgKNJ!`yW?@BWn*cd#","fields":{"VALUE0":300}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"#IOAEqp3tgjm6DTSkDw1","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockImportTaskCallStatement","id":"q3R](fK%A-k[_Au5ta=q","extraState":{"optionLevel":5},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"xfa$Wjx^n}?aBFr+sWZ`","fields":{"VAR":{"id":"Gn5J`?pf1iIV$y3?+=82","name":"p_turn_incremental_async","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":":;;-]d_42N.leF26Y-]{","fields":{"NUM":40}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"5QMSURY-]Xo63F%NV3u1","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"90`OOi81_YT$oms0-Iv?","fields":{"VAR":{"id":"2g}*SD(2@fMK3ar?#SQ3"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"V;cbPi(}Y-24xgfh4#tW","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"r*^ENd2P]2DWf6z4A7#L","fields":{"VAR":{"id":"C2kqxrMZMcZNv$T5~-Eu"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"Md`Wc|L[I^D/7idHwcMG","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"hWN}(;y1.2GL#|e1PDv[","fields":{"VAR":{"id":"GM_:KViuE|8LM1k|TgDU"}}}},"ARG4":{"shadow":{"type":"blockMathNumber","id":"}^?R_kUF`]MdV_Z=o)Iu","fields":{"NUM":26}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"8^y?dRwGBD#V@!N)q7BU","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"MRS(^}hAN}_Jiy2uVSX_","fields":{"VAR":{"id":"G^cgNf221%V^[vU-+1`,","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"8B|EwPKXxDAjCQhad}^Y","fields":{"VALUE0":670}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"!0~04n`VfBVm.~oBK)?t","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"F1MpFtIfgNffmD_J/UZC","type":"ColorDef"},{"name":"orange","id":"li/90t_5J%$ldPF?#_^-","type":"ColorDef"},{"name":"yellow","id":"oMcf7!)4M^d{/6qQoy3t","type":"ColorDef"},{"name":"green","id":"6D,oo_I~s1^NW0Wuj(`*","type":"ColorDef"},{"name":"cyan","id":"@Y:P7Sxu{MI=5Y%0%!?P","type":"ColorDef"},{"name":"blue","id":",fJz|0~R-M![[h:,t.2+","type":"ColorDef"},{"name":"violet","id":"+@K~Ur*E}ff1Dqw0^8=1","type":"ColorDef"},{"name":"magenta","id":"of2T`l%G!A5h~F-9QcI@","type":"ColorDef"},{"name":"white","id":"fu]oG_elE[.pgjOiGxuT","type":"ColorDef"},{"name":"none","id":"y+/f6(-RB;0dU6zF(5g!","type":"ColorDef"},{"name":"drive base","id":"G^cgNf221%V^[vU-+1`,","type":"DriveBase"},{"name":"p_turn","id":"T_szxC!z|Fex^pN)#m!0","type":"ModuleImported"},{"name":"prime hub","id":"GM_:KViuE|8LM1k|TgDU","type":"PrimeHub"},{"name":"right light","id":"S)oO5*T]LlYU*hTk8(4|","type":"ColorSensor"},{"name":"left light","id":"l63yLj-9I]f#rDpLy9H3","type":"ColorSensor"},{"name":"left","id":"2g}*SD(2@fMK3ar?#SQ3","type":"Motor"},{"name":"right","id":"C2kqxrMZMcZNv$T5~-Eu","type":"Motor"},{"name":"left attachment","id":"7V2q8$R!~B64,Z)2G+j^","type":"Motor"},{"name":"right attachment","id":"r!BgU^!j}2gq~G^J:b/)","type":"Motor"},{"name":"p_turn_incremental_async","id":"Gn5J`?pf1iIV$y3?+=82","type":"FunctionImported"},{"name":"p_turn_increment_bee","id":"$@D5K4W6]+hklNJWddx%","type":"Function"},{"name":"bumblebee run","id":"Yc!6CtgD;GRuZRR@W_T?","type":"Function"},{"name":"angle","id":"7V^ngYMZ@uwnFPjwIMR2","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import ColorSensor, Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

from p_turn import p_turn_incremental_async

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
right_light = ColorSensor(Port.A)
left_light = ColorSensor(Port.B)
left = Motor(Port.F, Direction.COUNTERCLOCKWISE)
right = Motor(Port.E, Direction.CLOCKWISE)
drive_base = DriveBase(left, right, 62.4, 110)
left_attachment = Motor(Port.D, Direction.CLOCKWISE)
right_attachment = Motor(Port.C, Direction.COUNTERCLOCKWISE)

async def p_turn_increment_bee(angle):
    await wait(0)
    await p_turn_incremental_async(angle, left, right, prime_hub, 23)

async def subtask():
    left.dc(50)
    while not prime_hub.imu.heading() >= 135:
        await wait(0)
    left.hold()
    await drive_base.straight(-110)
    await drive_base.straight(75)

async def bumblebee_run():
    await wait(0)
    prime_hub.imu.reset_heading(0)
    drive_base.use_gyro(True)
    drive_base.settings(straight_speed=400)
    drive_base.settings(straight_acceleration=750)
    await drive_base.straight(675)
    await p_turn_increment_bee(45)
    while not await left_light.reflection() < 20:
        await wait(0)
        drive_base.drive(100, 0)
    drive_base.straight(0)
    await left_attachment.run_angle(500, 100)
    drive_base.settings(straight_speed=50)
    await drive_base.straight(57)
    await right_attachment.run_angle(200, 190)
    await wait(250)
    await right_attachment.run_angle(200, -190)
    drive_base.settings(straight_speed=400)
    await drive_base.straight(-167)
    drive_base.settings(straight_speed=100)
    await multitask(
        subtask(),
        left_attachment.run_angle(500, -100),
    )
    print(prime_hub.imu.heading())
    await p_turn_increment_bee(60)
    print(prime_hub.imu.heading())
    drive_base.settings(straight_speed=200)
    await drive_base.straight(-385)
    await p_turn_increment_bee(30)
    left.dc(67)
    right.dc(67)
    await wait(670)
    left.hold()
    right.hold()
    await drive_base.straight(-100)
    await p_turn_incremental_async(-20, left, right, prime_hub, 26)
    drive_base.settings(straight_speed=800)
    await drive_base.straight(300)
    await p_turn_incremental_async(40, left, right, prime_hub, 26)
    await drive_base.straight(670)

async def main():
    await bumblebee_run()


run_task(main())