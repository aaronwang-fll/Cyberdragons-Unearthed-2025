# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":186,"deletable":false,"next":{"block":{"type":"variables_setup_imported_function","id":"VSuu+L#v`#J6%2:!c.oE","fields":{"FROM_MODULE":{"id":"Rm3b$hjFjN`Wx`(Sj5#."},"VAR":{"id":"]rcq*sO@yId*oi?!gJIV"}},"next":{"block":{"type":"variables_set_prime_hub","id":"61[6KD9,Fe8(~5o=mX.E","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"@NXb$}]#KFqvjOV^wEh9"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"+%^hG1KzAR8u3[,En:4-","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"@Y0Sx0+V9(Dti0@%KVUx","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"W@J1kgF$:1gRQw+V@?GJ","fields":{"VAR":{"id":"2=#;D^aDDTi8s2OqjcbM"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"aw:v*|MD=*f^AU2`-{4c","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"H}n$]ujR*myQ:Yj^E-_q","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"^0FBKY-6Esrj/#N;c]jW","fields":{"VAR":{"id":"hIY)}C1T^@Oz@$$R~7wj"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Y`1=),$08jP,0c}x;%LQ","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"b-KN^nu!(;v|NEGV+^9P","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":",5TPcM^0-_x74.7ny97h","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"..90_Ql-^+zLuISA@#tr","fields":{"VAR":{"id":"2=#;D^aDDTi8s2OqjcbM","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"/%:v2Q5KVl4q6epr3v7y","fields":{"VAR":{"id":"hIY)}C1T^@Oz@$$R~7wj","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"nA5s#88f*aje%N+$WBRY","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"v{ue8oY5U=xQPQhPvl0$","fields":{"VALUE0":110}}}},"next":{"block":{"type":"variables_set_motor","id":"TNlD.Llca352%[oNvE[q","fields":{"VAR":{"id":"+Z0o~vhqYEs#t8bWU#~L"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"eh]}UvTjiBn)QLI.c~E^","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"cue/T:f}w`$D!VS$dFc{","fields":{"SELECTION":"Direction.CLOCKWISE"}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":661,"deletable":false,"next":{"block":{"type":"blockFunctionCallerStatement","id":"1|-]tZ=J#VXn;,B}cP2?","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"GWU]!12TLsl[$Yu_O?cr"}}}}},{"type":"variables_setup_function","id":"^ef?W5=EH*1Zauk=UP_e","x":573,"y":229,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"tdFP_fu1|FLPoAba]#=g"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"bG77-clW!rk9_#jK~pNh","fields":{"VAR":{"id":"z4`ACd*)d=4.s.Uh~v2`","name":"angle","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockImportTaskCallStatement","id":"[;OZX!8hzg@Za=!ha#6b","extraState":{"optionLevel":5},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"Dn^nteUKia`7?8qvqqEe","fields":{"VAR":{"id":"]rcq*sO@yId*oi?!gJIV","name":"p_turn_incremental_sync","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"e_]-I:?6f.`+t|?pt8R.","fields":{"NUM":0}},"block":{"type":"variables_setup_function_argumentConstant","id":"`Z^}M`6.{bmMvWh`%D8w","fields":{"VAR":{"text":"angle"}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"pW40,bB5fu+.n|-pi?]4","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"?O@GRao(EM3x0Bv^Y9Z+","fields":{"VAR":{"id":"2=#;D^aDDTi8s2OqjcbM"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"_{XMIQ{5he0t7C-+n~PV","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"84Kc+8/q*`Kbbg:}0z[a","fields":{"VAR":{"id":"hIY)}C1T^@Oz@$$R~7wj"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"jk=nrTWG!_6gi@OD=??y","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"bKO1zTeH,6@s~YGR;Zz.","fields":{"VAR":{"id":"@NXb$}]#KFqvjOV^wEh9"}}}},"ARG4":{"shadow":{"type":"blockMathNumber","id":"bYG:TsCq|vMJNB~%gsWo","fields":{"NUM":22}}}}}}}},{"type":"variables_setup_function","id":"R)x]TAt+z2lajtuW?f;B","x":0,"y":881,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"GWU]!12TLsl[$Yu_O?cr"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseUseGyro","id":"NYAm[2(|#tW|!=]3)Z0@","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":",tG#GWrwBM;bC+x/C}+X","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"Sn-CvgF{Ydu40TQ5xB_0","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"NEOZzs9;QU)4~qKOE0z/","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"4x1vNy.il030@qhfcRkr","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"bsJ#|n_aq%,:Bzs.(gAw","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"4+`LxI#G6~wMk:PN4e}$","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"p@`xCIaA}{z-^09oY4I*","fields":{"VALUE0":2000}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"MO7@tZ3OOmTTCqY-fzUl","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"6SqqtrMawFrXj@O@xl$u","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Mw$#(UBjGi:vGOJ,g,Q{","fields":{"VALUE0":230}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"lkd7kp`.x(rQ^610~+K?","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"R?J(PJ5uE9`|t@$yp+.K","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"tdFP_fu1|FLPoAba]#=g"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"[AkVTQ=AB,:i6)nPg4Rl","fields":{"NUM":-90}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"GGP=;jTo-d0hQk[obfyd","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"WaFD?yE|)Qdp##Bl?8KU","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"jTJgj0kgI=Ck/Qx%Pm(7","fields":{"VALUE0":475}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"E@29Yav:Ry-b=D`Yu{f9","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"ZTO|Nf6P,Yq40%5XEg[(","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"tdFP_fu1|FLPoAba]#=g"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"nD#(`XM]g9OS0n`?x6fi","fields":{"NUM":90}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"t4Cq:Lhewxf%eV~k9TES","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"J(=3J-S3NObhZ[2lNhwC","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"4z_{|B3[/eZcbuj;LVcA","fields":{"VALUE0":100}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"`A6:V2,brYk@tr63FaCk","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"1(VR@kPow8SePJ(VZ=!f","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"b?HTT$DszY6*7*m9zZgX","fields":{"VAR":{"id":"+Z0o~vhqYEs#t8bWU#~L","name":"right attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"vf$|W|B^-5zi!ktv/*t.","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":",#hmUrdqCxfE/vY8G^)S","fields":{"VALUE0":90}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"C!VhC?O!cH-B70Lv+_AD","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"SCW]mH-CwN|GUtGEe:+T","extraState":{"optionLevel":0},"fields":{"METHOD":"MOTOR_RUN_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"i4U=5@s*8*,;j)p|PI%U","fields":{"VAR":{"id":"+Z0o~vhqYEs#t8bWU#~L","name":"right attachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"bhaHz(h8JSJs1f%v1}3Z","fields":{"VALUE0":-200}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"S_nsi81:0V7G[$_~yjSo","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"zGqqO2fZU?t2GBHn]GS|","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"]#XEZ4Y.DY.VqV+$A}yA","fields":{"VALUE0":-105}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"BV1uOhnx7O4z0|2z)z[l","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"ntZRu%+O(IM3g^!I30HP","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"tdFP_fu1|FLPoAba]#=g"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"Yv(UQu,s*)}mR%6m!d-/","fields":{"NUM":-116.7}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"PtZ}m.ta?:)$B.T7=K=!","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"qluNYRbXl9m5.33fPeLG","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"*7fP++?pFa;v(#DMFN~N","fields":{"VALUE0":-240}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"-^uh-2)2W1RueNheD/^%","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"o-01}6U8EM8.HrmkId^D","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Wbj[0@B?s~NcC6JStsy/","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"BrLF$%_{XU+FLm1tef]c","fields":{"VALUE0":160}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"b5[WU0dkr0]V}+:u]7zM","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"lF]AgE5!-G4u@*{y#)+L","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_DRIVE_ARC_ANGLE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"{7SOk`{U]bGB@FluNL*E","fields":{"VAR":{"id":"}{$2=9!{`IE]IC2%W`cS","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":")7z(sT|A8s]fUHgr-L9~","fields":{"VALUE0":-367}}},"ARG1":{"shadow":{"type":"unit_angle","id":"x1m..-PN]2.Fh}6%rsR5","fields":{"VALUE0":-100}}},"ARG2":{"shadow":{"type":"parameters_stop_4","id":"4M,OGgrNTFPlAO9?8ujd","fields":{"VALUE":"Stop.COAST"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"~O?R6+k:2sP4vNBd}r:,","type":"ColorDef"},{"name":"orange","id":"iI/=Q`cOxdpC}f$,pm2G","type":"ColorDef"},{"name":"yellow","id":"hF2f7)fqAgrn]2[YNTrp","type":"ColorDef"},{"name":"green","id":"ps(7izE=9e|pRLW]yED-","type":"ColorDef"},{"name":"cyan","id":"w#wUE[HS3QaZ3LY=yrb2","type":"ColorDef"},{"name":"blue","id":"Y)+~(Vk^1_uDy.f-ksRG","type":"ColorDef"},{"name":"violet","id":"^Z34%J-qw2BCp3VuNs}Y","type":"ColorDef"},{"name":"magenta","id":"eKj:39Nm74$;4[0U=qF)","type":"ColorDef"},{"name":"white","id":"m+g.JgdQyVro|uufb7;+","type":"ColorDef"},{"name":"none","id":"/gl[~XO,TmFH8t/P%0aE","type":"ColorDef"},{"name":"prime hub","id":"@NXb$}]#KFqvjOV^wEh9","type":"PrimeHub"},{"name":"drive base","id":"}{$2=9!{`IE]IC2%W`cS","type":"DriveBase"},{"name":"p_turn_incremental_sync","id":"]rcq*sO@yId*oi?!gJIV","type":"FunctionImported"},{"name":"left","id":"2=#;D^aDDTi8s2OqjcbM","type":"Motor"},{"name":"right attachment","id":"+Z0o~vhqYEs#t8bWU#~L","type":"Motor"},{"name":"right","id":"hIY)}C1T^@Oz@$$R~7wj","type":"Motor"},{"name":"p_turn","id":"Rm3b$hjFjN`Wx`(Sj5#.","type":"ModuleImported"},{"name":"p_turn_increment_spr","id":"tdFP_fu1|FLPoAba]#=g","type":"Function"},{"name":"sprinky run","id":"GWU]!12TLsl[$Yu_O?cr","type":"Function"},{"name":"angle","id":"z4`ACd*)d=4.s.Uh~v2`","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase

from p_turn import p_turn_incremental_sync

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
left = Motor(Port.F, Direction.COUNTERCLOCKWISE)
right = Motor(Port.E, Direction.CLOCKWISE)
drive_base = DriveBase(left, right, 62.4, 110)
right_attachment = Motor(Port.C, Direction.CLOCKWISE)

def p_turn_increment_spr(angle):
    p_turn_incremental_sync(angle, left, right, prime_hub, 22)

def sprinky_run():
    drive_base.use_gyro(True)
    drive_base.settings(straight_speed=400)
    drive_base.settings(straight_acceleration=2000)
    drive_base.straight(230)
    p_turn_increment_spr(-90)
    drive_base.straight(475)
    p_turn_increment_spr(90)
    drive_base.straight(100)
    right_attachment.run_angle(200, 90)
    right_attachment.run(-200)
    drive_base.straight(-105)
    p_turn_increment_spr(-116.7)
    drive_base.straight(-240)
    drive_base.straight(160)
    drive_base.arc(-367, angle=-100, then=Stop.COAST)


# The main program starts here.
sprinky_run()
