# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":150,"y":100,"deletable":false,"next":{"block":{"type":"variables_setup_imported_function","id":"Ew$RY0Il6fp|AH/~A^eh","fields":{"FROM_MODULE":{"id":"C2|B:SM#|K@AWAU)cLB!"},"VAR":{"id":"^~}a*8e)f=|vFZq:NM=p"}},"next":{"block":{"type":"variables_set_prime_hub","id":"/m.Vy`KLlcz$cKi2zt0D","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"aNPYdA5KtbgqI^#S$;|4"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"])Ay0:-:YL?vQf*9NL[%","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"W-F{YQGIPUEb8Sw22c,U","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"65E`;UtdWB0[cK|=Wqgp","fields":{"VAR":{"id":"1d.DO,gx6q}Hc{vfwgoU"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"X]i+*L/T8t,ihRWiGn1e","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"#5w_0:}g05:El=uT$i(1","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"O^,]vwTc~bOBy#3@WOfP","fields":{"VAR":{"id":"QsQ#Owo{k~=^20l^`-V%"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"7Dj}p-Oe]-Yc$+oIeI.n","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"eY,/%Mj[)`.-)5#QFP9?","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"8v9P_;`y^~0+XNmrh`.F","fields":{"VAR":{"id":"}}pLt!0A,KNCumYL(]@o"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":";yX7gd-)S`0k!Q,qxMkI","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"M]m;!f~{9:iNhZ2Y{K.X","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"#7=[nVMEG6Ge[.aW,b:2","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"F*~_/}xr$h!^}[fk?V*H","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"9Vs3!#}(Q`6s8_Ox,5EV","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"%fk#G`1uveCgnRwT{7*p","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"cJ0YA2Wj-Qi7[c6Oss)p","fields":{"VAR":{"id":"1d.DO,gx6q}Hc{vfwgoU","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"[7JM/QqpS)b-bhg:zY8j","fields":{"VAR":{"id":"QsQ#Owo{k~=^20l^`-V%","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":",dc19%!8p;ngfY`/eVqE","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"PMRDLx4OolM=oJow7npo","fields":{"VALUE0":110}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":151,"y":720,"deletable":false,"next":{"block":{"type":"blockImuResetHeading","id":"%M{wOvwDI_#RmCyQ@.CI","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"1lu6lVd$Oz@A+ykm!O{3","fields":{"VAR":{"id":"aNPYdA5KtbgqI^#S$;|4","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"%|F;#cU4N/fvLD%7X6cJ","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"^qhBRWf2U^uvg4-;TRdB","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"krwRiAw5!lD!T,G8gz1A","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"(o)mO$8:G#oHs*Zm}HQ9","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Rk{a:_`,S54i5H%So+qN","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"lx~{e9S{w}H!%b.b:wCz","fields":{"VALUE0":300}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"fvwuR3Z_h/PK|4(J4+R7","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"1LE!2rK/HgQw;2v#gY@)","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"D_tgA~VPks}o,*+t.lsT","fields":{"VALUE0":750}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"FYy|p.cGoOvBW]j,5@Um","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"jLThgKAV6H)puQ.Af|,s","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":",_!2Q2!wds$x1mSBiS+3","fields":{"VALUE0":700}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"OgjhL`=XX2*uJ_CQ#wNA","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"9NL2!}~5soX`/Wc0MAgY","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"%E+dAZ~_f/,4]ir62@wz","fields":{"NUM":90}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"~rl,sqX||N=*buif|lVc","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"JbEVWtJ#aZQVoy!0xNDq","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Lo++XEfXqMA7KM}(awj?","fields":{"VALUE0":370}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"p4|[SR!3-IO,_ce^r$Rk","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"7nsyQj/x27A.s_uxj?.d","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockFunctionCallerStatement","id":"ekaQYz*,W+/y@3(fvOf@","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"f4H$FgrE{..}!+Q6}g(-","fields":{"NUM":-45}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"8lZ+Tq5wiY)(gSk8XHO2","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"G6u*O#M~?cR]%xxLg)cr","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"qA_EOYZ=nY%%=Q_8QjIW","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"%%_:s!_EoRt;HST!uRrY","fields":{"VALUE0":-350}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"~}EoZ_Yc||.W;:83TGzQ","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":":j]2h4(e|?SiC%srlz=U","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"3uk~BfbRx$/H0!b[5:!2","fields":{"NUM":-45}}}},"next":{"block":{"type":"blockMultiTask","id":"F|kTTS`28;ltOXM@~-$+","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorRun","id":"CY_^?A?($k)1y+Hv}TYD","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"Rq9OjQWy=Bt:y3e?PBAn","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"#c)K?,m_1*!xlauZmPlV","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"/j-rww8(^EXYjZnfsn*e","fields":{"VALUE0":150}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"tW}nKRYzWcbF2U@`K=l9","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"bAT3X#EW=q.RU#=OalSg","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"Ygg+joausi^xrH9Nv}{f","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"]hMgf8Kz=/+Yp-?0hK%i","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"[7mx{RwfB++w@nG(u=w!","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"*in?+*}D$3N/i3,1ZD!k","fields":{"VALUE0":50}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"cehKG_fFN||(l2^:h(eF","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":";zo2o`xs]So3S!.#i3x.","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"y7tp6R}U%I|.39YjV@5H","fields":{"VALUE0":-35}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"[e0#2HOk^EA`hkG5UIfL","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"j/.qh.}uSy!lSffhZyj!","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"?S]fm_:BLpEk4=Wgr;fz","fields":{"VALUE0":50}}}}}}}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"2tkcO@BO%7((t-}OaOi%","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorConfigure","id":"Y:M?oX6xB)x*,}]i4M8b","extraState":{"optionLevel":3},"fields":{"METHOD":"MOTOR_MAX_TORQUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"x,/`:lx8aqc;38V0bzr?","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_torque","id":"N;:R?$.!U_jS{RB[r57l","fields":{"VALUE0":800}}}},"next":{"block":{"type":"blockMotorRun","id":"c@_iKyROHbI%fS5[ulkz","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"6I*Q.){U|,BlT_,,hF:}","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"d|yGQ5eMX(/3Pzh@%cUO","fields":{"VALUE0":50}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"(9XpV$+^5vEA!/WeO4Jf","fields":{"VALUE0":80}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"|McmR,rcYKdfRdpfY6y!","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"-O2HL+zG=kqZ1%_UFqPC","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"Pqlb+dmKXXgXwt%owUJ)","fields":{"VALUE0":10}}}},"next":{"block":{"type":"blockMotorStop","id":"B=TFlZp}e+e@gR_}{6HF","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"$!z7WsUyN9RLpJa+#O}2","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"XamR_dHD13AfKC#U;FKy","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}},"TASK1":{"block":{"type":"blockDriveBaseConfigure","id":"/zOc%qYiN1K8yjR3fr@e","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Sk1]JWC0f*M%nY}lAit@","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"%9V.oBBBH%EQUcH{8?1N","fields":{"VALUE0":70}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"p_`zvnCw5MVc,YLV$U%}","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"6:lj:I,/$!XmI[JpNb@f","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"No/#,RpcZ+AwnrE0G@72","fields":{"VALUE0":190}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"^zS27b{N5Hr1sF@2[A-B","fields":{"VALUE":"Stop.HOLD"}}}}}}}}},"next":{"block":{"type":"blockMotorRun","id":"e.hSH`*og(5!s@9Elo7K","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"6GCG,j=x879}1u!I*s~E","fields":{"VAR":{"id":"}}pLt!0A,KNCumYL(]@o","name":"left attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"#}aK*FR{q5~o|7~z4yc`","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"5YssG:wh`s0Y0Lvb2RNo","fields":{"VALUE0":-1100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"E?cvS5#}Y41Y0R#n!4EE","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"R{rzr+B!m,_x1lg+96bl","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"mYfmJ`O}Aau1Fw0_$N+}","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockMotorRun","id":"41g_VNAN?1IXw)7;Hc`p","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"cp;9(K!^*6B?:/+eqMZF","fields":{"VAR":{"id":"}}pLt!0A,KNCumYL(]@o","name":"left attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"*uJ-~#i5x0;@j*{+}wh3","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"~yo_k{BUOA-`=iP[e@O}","fields":{"VALUE0":1100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"E@1.hT90^w0Xm*x]x8w{","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"65(~DO47Kj1?3c={O{t2","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"a?hZNXV,2GmJwn;ym6@^","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"De#N_2+*v4@wgA6:WOAP","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"4p5vt^58id=~:{j]*`1e","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"+n,8:R;o|qg{N*?f,%nO","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"8|1+`[q,x2^X#1RLNYf-","fields":{"VALUE0":-130}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"#Uj^C2]_bCL+S/MvTCw~","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"@|V]]}uN|9CRgmLi[FG3","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"IAXxH4k`aV_7$f^JUsCK","fields":{"NUM":90}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"Ez=s|an!_klqYvj$x2}`","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"*N(G@)e,/Ki/9LYD];={","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Jid8E+ZuDT0?fZWQ+)f4","fields":{"VALUE0":-150}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"RQ0h4l;y1w/RNc1Ym%=t","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"LSNBrdJo{,a+Ye::N0]x","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"mo_9{MCVT7zqd-[#G*da","fields":{"NUM":-55}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"2|`+HO%|)~UZO,O;KK*n","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"z0jGZO8Nc#Rp,s-xLR*B","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"?3GDCZ/fog,%ZLj.0;e!","fields":{"VALUE0":-100}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"En[fI?;/i11AOGFoJGvb","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"#v.2k^vAJ_aJO|UR!`Iu","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"-IG=9xZC`R+/-(Melv~[","fields":{"VAR":{"id":"}}pLt!0A,KNCumYL(]@o","name":"left attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"w,T,Nl[;.teO`eR*OS0@","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":",h0:rHEt@Lv2s4UXIZTu","fields":{"VALUE0":-900}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"raVzgm3iWaho3=v#ANHL","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"3}.kTqpeCVb~.%23+Ooc","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"ryn18K;GMip3g5F`pH1g","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Tyq$v;zh~8VO@9?Q|BPL","fields":{"VAR":{"id":"RPumHS24Qk2e~Ug(?:m6","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"P4F^^4%Cwz^w,n|HcSs?","fields":{"VALUE0":-1000}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"=-$*NYv3$xg{Ptf[UVk=","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":";4zQokPRQ/GyAc4ss}!:","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"!QKL$8#J/k{eGHNrVdRX","fields":{"VAR":{"id":"}}pLt!0A,KNCumYL(]@o","name":"left attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"Lx^Ev(N(J@~FmQYqY=oC","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"gNa,cj7.4o91PQVuRAav","fields":{"VALUE0":1050}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"*dXs8Z*G%Yu0Nf^kC~Oj","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"0,es!@S?b`D75b#:RqS[","x":902,"y":191,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"=eIdTmybgU1gCNVPe0N,"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"rlt2Av~eR,;Y0)5[M?`O","fields":{"VAR":{"id":"r9VZS?^%4(z.D.*4vX0%","name":"angle","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockImportTaskCallStatement","id":"o,Xdi{:Qrl8Ugsnv.%ro","extraState":{"optionLevel":4},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"Ws5[]^zNT!gp8|QQfTJ1","fields":{"VAR":{"id":"^~}a*8e)f=|vFZq:NM=p","name":"p_turn_incremental_async","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"=E}28a|*8om)MGD~[s$+","fields":{"NUM":0}},"block":{"type":"variables_setup_function_argumentConstant","id":"T-A`OH(cLZ94.LTu!kf;","fields":{"VAR":{"text":"angle"}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"K?L_AwtS|.eEOfr_.7wR","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"}JwRtlA~rpO@jsHWlT~]","fields":{"VAR":{"id":"1d.DO,gx6q}Hc{vfwgoU"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"KkSmK-Z9xu?T]DFroAg6","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"6Ny;DW{7^X+5QZIU;q0{","fields":{"VAR":{"id":"QsQ#Owo{k~=^20l^`-V%"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"Vg2!~lu9!d;O*9~bOpjz","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"kxIulM96;]*47u]Ujids","fields":{"VAR":{"id":"aNPYdA5KtbgqI^#S$;|4"}}}}}}}}},{"type":"blockMotorRun","id":"p@BjVi10lR/$Goa3yu7|","x":1290,"y":1922,"enabled":false,"extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"rVoIvOrHOcl?)v/Q;zWE","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"CSOW*^_ya;2:FtP(aQ_t","fields":{"VALUE0":50}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"+gMhfb$t%p8p9k7Fje!X","fields":{"VALUE0":20}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"F5lAv?+pyF=,1c0%Z3(P","fields":{"VALUE":"Stop.HOLD"}}}}},{"type":"blockMotorDuty","id":"i!P3G@;*YR{vD-uTLT1p","x":744,"y":1739,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"cWsE~?h!PXyXdrHnUTQL","fields":{"VAR":{"id":"{vInQK1|T=+J$i}ide~H","name":"right attachment motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"tBZ5oeoXRrEWI-VdK|#_","fields":{"VALUE0":30}}}}}]},"variables":[{"name":"red","id":"Py%kNe{VZgI}Z#w/P5sk","type":"ColorDef"},{"name":"orange","id":"6=jb-$(^y?qaW6{Itgp}","type":"ColorDef"},{"name":"yellow","id":"zVLU-M/I9_To;ju4!IM5","type":"ColorDef"},{"name":"green","id":"=CQr)*DomSopeAL6[9iU","type":"ColorDef"},{"name":"cyan","id":"IN7j#/k{/AiWIpymw7OQ","type":"ColorDef"},{"name":"blue","id":"r(c]M{ku;5*@IL/zgfXO","type":"ColorDef"},{"name":"violet","id":"75{66tK/gyTfqE#il5oh","type":"ColorDef"},{"name":"magenta","id":"jrq5u`w:;OhRe^JeS,Rr","type":"ColorDef"},{"name":"white","id":"T1{@6ioS:7Hhyi*}XWO2","type":"ColorDef"},{"name":"none","id":"ue@0hFkeZbX{w8kb{mp-","type":"ColorDef"},{"name":"prime hub","id":"aNPYdA5KtbgqI^#S$;|4","type":"PrimeHub"},{"name":"drive base","id":"RPumHS24Qk2e~Ug(?:m6","type":"DriveBase"},{"name":"p_turn_incremental_async","id":"^~}a*8e)f=|vFZq:NM=p","type":"FunctionImported"},{"name":"p_turn","id":"C2|B:SM#|K@AWAU)cLB!","type":"ModuleImported"},{"name":"p_turn_increment","id":"=eIdTmybgU1gCNVPe0N,","type":"Function"},{"name":"left","id":"1d.DO,gx6q}Hc{vfwgoU","type":"Motor"},{"name":"right","id":"QsQ#Owo{k~=^20l^`-V%","type":"Motor"},{"name":"left attachment motor","id":"}}pLt!0A,KNCumYL(]@o","type":"Motor"},{"name":"right attachment motor","id":"{vInQK1|T=+J$i}ide~H","type":"Motor"},{"name":"angle","id":"r9VZS?^%4(z.D.*4vX0%","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

from p_turn import p_turn_incremental_async

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
left = Motor(Port.F, Direction.COUNTERCLOCKWISE)
right = Motor(Port.E, Direction.CLOCKWISE)
left_attachment_motor = Motor(Port.D, Direction.CLOCKWISE)
right_attachment_motor = Motor(Port.C, Direction.CLOCKWISE)
drive_base = DriveBase(left, right, 62.4, 110)

async def p_turn_increment(angle):
    await wait(0)
    await p_turn_incremental_async(angle, left, right, prime_hub)

async def subtask():
    await wait(1000)
    drive_base.settings(straight_speed=50)
    await drive_base.straight(-35)
    await wait(50)

async def subtask2():
    right_attachment_motor.control.limits(torque=800)
    await right_attachment_motor.run_angle(50, 80)
    await wait(10)
    right_attachment_motor.hold()

async def subtask3():
    drive_base.settings(straight_speed=70)
    await drive_base.straight(190)

async def main():
    prime_hub.imu.reset_heading(0)
    drive_base.use_gyro(True)
    drive_base.settings(straight_speed=300)
    drive_base.settings(straight_acceleration=750)
    await drive_base.straight(700)
    await p_turn_increment(90)
    await drive_base.straight(370)
    await multitask(
        p_turn_increment(-45),
        right_attachment_motor.run_angle(200, -350),
    )
    await p_turn_increment(-45)
    await multitask(
        right_attachment_motor.run_angle(1000, 150),
        subtask(),
    )
    await multitask(
        subtask2(),
        subtask3(),
    )
    await left_attachment_motor.run_angle(1000, -1100)
    await wait(100)
    await left_attachment_motor.run_angle(1000, 1100)
    drive_base.settings(straight_speed=500)
    await drive_base.straight(-130)
    await p_turn_increment(90)
    await drive_base.straight(-150)
    await p_turn_increment(-55)
    await drive_base.straight(-100)
    await left_attachment_motor.run_angle(1000, -900)
    await multitask(
        drive_base.straight(-1000),
        left_attachment_motor.run_angle(1000, 1050),
    )


run_task(main())